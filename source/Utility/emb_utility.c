/******************************************************************************
 * INCLUDES
 ******************************************************************************/
#include "emb_utility.h"
/******************************************************************************
 * PRIVATE TYPEDEF
 ******************************************************************************/

/******************************************************************************
 * PRIVATE CONSTANTS
 ******************************************************************************/

/******************************************************************************
 * PRIVATE MACROS
 ******************************************************************************/
/* Check if a character is a hex digits */
#define IS_HEX(CH)                        ((((CH) <= 'F') && ((CH) >= 'A'))\
                                        || (((CH) <= '9') && ((CH) >= '0')))
/* Convert a hex character to a hex value */
#define ASCII_TO_HEX(CH)                 ((CH) - '0' - ((CH) >= 'A') * 7U)
/******************************************************************************
 * PRIVATE VARIABLES
 ******************************************************************************/

/******************************************************************************
 * PRIVATE FUNCTIONS PROTOTYPES
 ******************************************************************************/

/******************************************************************************
 * PRIVATE FUNCTIONS
 ******************************************************************************/

/**
 * @brief  Get the length of a string
 * @param  str: string
 * @retval Length of string
 */
uint32_t strlen(const uint8_t *str)
{
    uint32_t len;
    for (len = 0; str[len] != '\0'; len++);
    return len;
}

/**
 * @brief  Convert a hex byte string to hex value
 * @param  str: pointer to the hex string
 * @param  pHex: pointer to the hex value
 * @retval None
 */
bool strtohex(const uint8_t *str, uint8_t *pHex)
{
    bool checkHex = false;
    if (IS_HEX(str[0]) && IS_HEX(str[1U]))
    {
        checkHex = true;
        pHex[0] = (ASCII_TO_HEX(str[0]) << 4U) + ASCII_TO_HEX(str[1U]);
    }
    return checkHex;
}

/******************************************************************************
 * End of file
 ******************************************************************************/
